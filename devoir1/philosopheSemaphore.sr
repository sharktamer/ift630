resource philo()

  sem baguette[5] := (1, [4] 0)
  procedure phil(i: int)
     var j := 0
     do j < 10 ->
       P(baguette[i])
       P(baguette[(i+1) mod 5])
       write("Philosophe", i, "mange")
       nap(100)
       V(baguette[i])
       V(baguette[(i+1) mod 5])
       write("Philosophe", i, "pense")
       nap(300)
     j++
     od
  end
  begin
    co (i := 5 to 5) phil(i)
    oc
  end
end
